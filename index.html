<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Divine Festive Ad Studio ‚Äî Pinnacle Edition: Final</title>

    
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cinzel:wght@500;700&family=Poppins:wght@300;400;600&family=Bebas+Neue&family=Roboto+Slab:wght@400;700&family=Inter:wght@400;700&family=Bungee&family=Montserrat:wght@900&family=Dancing+Script:wght@400;700&family=Cormorant+Garamond:wght@400;700&family=Tangerine:wght@400;700&family=Sacramento&family=Slabo+27px&family=Playfair+Display:wght@400;700;900&family=Kaushan+Script&family=Rajdhani:wght@400;700&family=Vollkorn:wght@400;700&family=Marcellus&family=Fauna+One&family=Old+Standard+TT&family=Josefin+Slab:wght@400;700&family=Merriweather:wght@400;700&family=Pacifico&family=Berkshire+Swash&family=Parisienne&family=Libre+Baskerville:wght@400;700&family=Indie+Flower&family=Shadows+Into+Light&family=Fira+Sans+Extra+Condensed:wght@400;700&family=Source+Serif+4:wght@400;700&family=Oswald:wght@400;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/style.css" />
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div id="customAlert"></div>
    <div id="loadingSpinner" class="loading-overlay">
        <div class="spinner-circle"></div>
        <p class="loading-text">Loading...</p>
    </div>

    <audio id="bgMusic" autoplay loop muted>
        <source src="assets/bg-music.mp3" type="audio/mpeg" />
    </audio>

    <div id="diya-container" aria-hidden="true"></div>
    <div id="confetti-container"></div> 

    <main class="page">
        <header class="masthead">
            <img src="assets/Logo.jpg" alt="Brand Logo" class="logo" />
            <h1 class="title sacred">Divine Festive Ad Studio ‚Äî Pinnacle Edition</h1>
            <p class="subtitle">Craft the most captivating and auspicious festive ads, enhanced with premium designs.</p>
        </header>

        <section id="steps" class="steps">

            <div id="step1" class="step active">
                <div class="welcome-entry">
                    <img src="assets/traditional-gate.png" alt="Traditional Festive Gate" class="gate-img" />
                    <div class="greetings-card">
                        <p class="greeting-text">Shubh Aarambh!</p>
                        <p class="blessing-text">Enter the Divine Design Studio.</p>
                    </div>
                </div>
                <button class="btn primary" onclick="nextStep(2)">Step In and Design ‚ú®</button>
            </div>

            <div id="step2" class="step">
                <h2 class="section-title">Enter Your Shop Details (Optional, but Recommended!)</h2>
                <p class="subtitle">Personal branding makes your ad truly shine! These details will be placed on your ad.</p>
                <form id="detailsForm" class="form" onsubmit="return false;">
                    <input id="shopName" type="text" placeholder="Your Shop/Brand Name" />
                    <input id="ownerName" type="text" placeholder="Owner / Contact Person (e.g., 'From: Srikumar')" />
                    <input id="phone" type="tel" placeholder="Phone (e.g., +91-9876543210)" />
                    <label class="file-label" id="logoFileLabel">
                        Upload Your Logo (PNG/JPG, optional)
                        <input id="logo" type="file" accept="image/*" onchange="displayFileName(this)" />
                    </label>
                    <small id="logoUploadStatus" class="upload-status">No file chosen.</small>
                    <div class="form-actions">
                        <button class="btn" onclick="saveDetails()">Continue to Templates</button>
                    </div>
                </form>
            </div>

            <div id="step3" class="step">
                <h2 class="section-title">Select a Premium Template</h2>
                <div class="template-gallery" role="list">
                    <button class="template-card" onclick="selectTemplate('assets/happy dasara.jpg')"><img src="assets/happy dasara.jpg" alt="Dussehra Divine1" /><div class="template-caption">Dussehra Divine1</div></button>
                    <button class="template-card" onclick="selectTemplate('assets/happy dasara2.jpg')"><img src="assets/happy dasara2.jpg" alt="Dussehra Divine2" /><div class="template-caption">Dussehra Divine2</div></button>
                    <button class="template-card" onclick="selectTemplate('assets/happy dasara3.jpg')"><img src="assets/happy dasara3.jpg" alt="Dussehra Divine3" /><div class="template-caption">Dussehra Divine3</div></button>
                    <button class="template-card" onclick="selectTemplate('assets/happy dasara4.jpg')"><img src="assets/happy dasara4.jpg" alt="Dussehra Divine4" /><div class="template-caption">Dussehra Divine4</div></button>
                    <button class="template-card" onclick="selectTemplate('assets/happy dasara5.jpg')"><img src="assets/happy dasara5.jpg" alt="Dussehra Divine5" /><div class="template-caption">Dussehra Divine5</div></button>
                    <button class="template-card" onclick="selectTemplate('assets/Durga Maa.jpg')"><img src="assets/Durga Maa.jpg" alt="Durga Blessings" /><div class="template-caption">Durga Maa Blessings1</div></button>
                    <button class="template-card" onclick="selectTemplate('assets/pexels-souvik-laha-3637528-10852670.jpg')"><img src="assets/pexels-souvik-laha-3637528-10852670.jpg" alt="Durga Maa Blessings2" /><div class="template-caption">Durga Maa Blessings2</div></button>
                    <button class="template-card" onclick="selectTemplate('assets/happy diwali1.jpg')"><img src="assets/happy diwali1.jpg" alt="Diwali Sparkle" /><div class="template-caption">Diwali Sparkle</div></button>
                </div>
            </div>

            <div id="step4" class="step">
                <h2 class="section-title">‚ú® Pinnacle Editor: Design Your Masterpiece ‚ú®</h2>

                <div class="step4-content">
                    
                    <div class="preview-wrap">
                        <div id="statusArea" class="status-card">
                            <img id="statusBg" class="status-bg" src="" alt="Template background" />
                            
                            <img id="overlayLogo" class="overlay-logo shape-circle" src="" alt="Shop Logo" draggable="true" />
                            
                            <div id="mainMessageLayer" class="draggable-layer text-layer pos-top-center" draggable="true">
                                <div id="overlayText" class="overlay-text font-cinzel editable" contenteditable="true" data-placeholder="Happy Festivals from us!"></div>
                                <div id="overlayOwner" class="overlay-owner font-poppins editable" contenteditable="true" data-placeholder="From: Owner/Shop Name"></div>
                                <div id="overlayPhone" class="overlay-phone font-poppins editable" contenteditable="true" data-placeholder="999-999-9999"></div>
                            </div>

                            <div id="offerBannerLayer" class="draggable-layer offer-layer pos-center-middle hidden" draggable="true">
                                <div class="offer-banner editable font-montserrat-black" contenteditable="true" data-placeholder="MEGA FESTIVE SALE 40% OFF!"></div>
                            </div>

                            <div id="ctaBlockLayer" class="draggable-layer cta-layer pos-bottom-center hidden" draggable="true">
                                <div class="cta-block-grid">
                                    <div class="cta-item editable font-poppins" contenteditable="true" data-placeholder="Buy 1 Get 1 FREE"></div>
                                    <div class="cta-item editable font-poppins" contenteditable="true" data-placeholder="Extra 20% Off Code"></div>
                                </div>
                            </div>

                            <div id="decorativeElementLayer" class="draggable-layer decorative-layer hidden" draggable="true">
                                </div>

                            
                            <div class="frame-decor top-left"></div>
                            <div class="frame-decor top-right"></div>
                            <div class="frame-decor bottom-left"></div>
                            <div class="frame-decor bottom-right"></div>
                        </div>
                    </div>
                    
                    <div class="customization-panel">
                        <h3 class="section-title" style="margin-top:0;">Design Controls (Drag & Resize Layers Directly!)</h3>

                        <div class="controls-group">
                            <label class="control-label">Layer Actions</label>
                            <div class="grid-options cols-3">
                                <button class="btn-action" title="Undo Last Change" onclick="undoAction()">Undo</button>
                                <button class="btn-action" title="Delete Active Layer" onclick="deleteActiveLayer()">Delete</button>
                                <button class="btn-action" title="Reset Active Layer Position" onclick="resetActiveLayerPosition()">Reset</button>
                            </div>
                        </div>

                        <div class="controls-group">
                            <label class="control-label">Select Active Layer</label>
                            <div id="layerSelectionControls" class="grid-options cols-2">
                                <button class="option-button active" data-target-layer="mainMessageLayer" onclick="setActiveLayer('mainMessageLayer')">Main Message</button>
                                <button class="option-button" data-target-layer="overlayLogo" onclick="setActiveLayer('overlayLogo')">Shop Logo</button>
                                <button class="option-button" data-target-layer="offerBannerLayer" onclick="setActiveLayer('offerBannerLayer')">Offer Banner</button>
                                <button class="option-button" data-target-layer="ctaBlockLayer" onclick="setActiveLayer('ctaBlockLayer')">CTA Blocks</button>
                                <button class="option-button" data-target-layer="decorativeElementLayer" onclick="setActiveLayer('decorativeElementLayer')">Decoratives</button>
                            </div>
                        </div>

                        <div class="controls-group" id="generalLayerControls">
                            <label class="control-label">Layer Opacity</label>
                            <input type="range" id="layerOpacity" min="0" max="100" value="100" oninput="updateActiveLayerOpacity(this.value)">
                            <small>Current Opacity: <span id="currentOpacity">100</span>%</small>
                            <label class="control-label">Layer Z-Index (Order)</label>
                            <input type="range" id="layerZIndex" min="10" max="100" value="20" oninput="updateActiveLayerZIndex(this.value)">
                            <small>Current Z-Index: <span id="currentZIndex">20</span></small>
                        </div>
                        
                        <div id="textControls" class="controls-group">
                            <label class="control-label">Font Style (50+ Premium Fonts)</label>
                            <div id="fontControls" class="grid-options cols-3 font-scroll-grid"></div>
                            <label class="control-label">Font Size</label>
                            <input type="range" id="fontSizeSlider" min="12" max="72" value="28" oninput="updateFontSize(this.value)">
                            <small>Current Size: <span id="currentFontSize">28</span>px</small>
                            <label class="control-label">Text Alignment</label>
                            <div id="textAlignControls" class="grid-options cols-3">
                                <button class="option-button" data-align="left" onclick="updateTextAlign('left')">Left</button>
                                <button class="option-button active" data-align="center" onclick="updateTextAlign('center')">Center</button>
                                <button class="option-button" data-align="right" onclick="updateTextAlign('right')">Right</button>
                            </div>
                        </div>

                        <div id="imageControls" class="controls-group hidden">
                            <label class="control-label">Logo Shape</label>
                            <div id="shapeControls" class="grid-options cols-2"></div>
                            <label class="control-label">Border Toggle</label>
                            <div class="grid-options cols-2">
                                <button class="option-button active" data-border="true" onclick="toggleLogoBorder(true)">Show Border</button>
                                <button class="option-button" data-border="false" onclick="toggleLogoBorder(false)">Hide Border</button>
                            </div>
                        </div>

                        <div id="offerBannerControls" class="controls-group hidden">
                            <label class="control-label">Banner Style</label>
                            <div id="offerBannerStyleControls" class="grid-options cols-2">
                                <button class="option-button active" data-style="banner-ribbon" onclick="setOfferBannerStyle('banner-ribbon')">Ribbon</button>
                                <button class="option-button" data-style="banner-badge" onclick="setOfferBannerStyle('banner-badge')">Badge</button>
                                <button class="option-button" data-style="banner-simple" onclick="setOfferBannerStyle('banner-simple')">Simple</button>
                            </div>
                            <label class="control-label">Banner Color</label>
                            <input type="color" id="offerBannerBgColor" value="#FFD700" oninput="updateOfferBannerColors()">
                        </div>

                        <div id="ctaBlockControls" class="controls-group hidden">
                            <label class="control-label">CTA Block Style</label>
                            <div id="ctaBlockStyleControls" class="grid-options cols-2">
                                <button class="option-button active" data-style="cta-gold" onclick="setCTAStyle('cta-gold')">Gold Button</button>
                                <button class="option-button" data-style="cta-green" onclick="setCTAStyle('cta-green')">Green Box</button>
                                <button class="option-button" data-style="cta-blue" onclick="setCTAStyle('cta-blue')">Blue Ribbon</button>
                            </div>
                            <button class="btn secondary" style="margin-top:15px;" onclick="addCtaItem()">Add Another CTA Item</button>
                            <button class="btn secondary btn-danger" onclick="clearCtaItems()">Clear All CTA Items</button>
                        </div>
                        
                        <div id="decorativeControls" class="controls-group hidden">
                            <label class="control-label">Add Traditional Decoratives</label>
                            <div id="decorativeElementGrid" class="grid-options cols-4 decorative-grid"></div>
                            <label class="control-label">Garlands & Borders</label>
                            <div id="garlandControls" class="grid-options cols-2"></div>
                            <button class="btn secondary btn-danger" onclick="clearDecorativeElements()">Clear All Decoratives</button>
                        </div>

                        <div class="controls-group">
                            <label class="control-label">Aesthetic Theme</label>
                            <div id="colorThemePresets" class="grid-options cols-3"></div>
                        </div>

                        <div class="controls-group">
                            <label class="control-label">Frame Design (Expanded)</label>
                            <div id="frameControls" class="grid-options cols-2"></div>
                            <label class="control-label">Fine Tune Accent Color (Frame/Decor)</label>
                            <div class="color-input-wrap">
                                <input type="color" id="accentColorInput" value="#D4AF37" oninput="updateColor('accent', this.value)">
                            </div>
                        </div>

                        <div class="controls-group">
                            <label class="control-label">Fine Tune Text Color</label>
                            <div class="color-input-wrap">
                                <input type="color" id="textColorInput" value="#FFFFFF" oninput="updateColor('text', this.value)">
                            </div>
                            <label class="control-label">Text Outline/Stroke</label>
                            <div class="grid-options cols-2">
                                <input type="number" id="textStrokeWidth" min="0" max="5" value="0" oninput="updateTextStroke()">
                                <input type="color" id="textStrokeColor" value="#000000" oninput="updateTextStroke()">
                            </div>
                            <label class="control-label">Text Shadow Effect</label>
                            <div id="shadowControlsGrid" class="grid-options cols-3"></div>
                        </div>
                        
                    </div>
                </div>

                <div class="controls">
                    <button class="btn secondary" onclick="downloadStatus()">Download Premium PNG üì•</button>
                    <button class="btn" onclick="nextStep(5)">Continue to Final Step</button>
                </div>
            </div>

            <div id="step5" class="step">
                <h2 class="section-title">Your Valuable Gift This Diwali üôè</h2>
                <div class="payment-box">
                    <img src="assets/upi-qr.png" alt="Developer's UPI QR Code" class="qr" />
                    <p class="payment-note">Your ad is ready to download! If you found this tool valuable, please consider supporting the developer (a student) with a small, valuable gift this festive season. **It is not mandatory.**</p>
                    <p class="payment-instruction">
                        UPI ID: <strong id="upiIdDisplay">bojjasrikumar0806-1@oksbi</strong> 
                        <br>
                        Encourage me with a gift of any amount.
                    </p>
                    <a class="btn primary" id="upiLink" href="upi://pay?pa=bojjasrikumar0806-1@oksbi&pn=Srikumar+Bojja&cu=INR" target="_blank" rel="noopener">Open UPI App (Optional)</a>
                </div>
                
                <div class="form-actions">
                    <button class="btn secondary" onclick="nextStep(6)">Download My Ad (No Gift Required)</button>
                </div>
            </div>

            <div id="step6" class="step">
                <div class="thankyou">
                    <img src="assets/Harathi.jpg" alt="Harathi" class="harathi" />
                    <h2 class="section-title">Ad Ready to Share! Happy Festivals!</h2>
                    <p class="blessing">May Goddess bless your shop with prosperity & joy.</p>
                    <p class="note">If you sent a gift, thank you from the bottom of my heart! Wishing you a bright season.</p>
                    <audio controls>
                        <source src="assets/devotional-song.mp3" type="audio/mpeg" />
                    </audio>
                </div>
            </div>

        </section>
    </main>

    <script src="js/script.js"></script>
</body>
</html>
